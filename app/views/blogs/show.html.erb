<section class="py-3 py-md-5 py-xl-8 bg-light">
  <div class="container">
    <div class="row gy-3 gy-lg-0 align-items-lg-center justify-content-lg-between">
      <div class="col-12 col-lg-7 order-1 order-lg-0">
        <div class="entry-header mb-3">
          <ul class="entry-meta list-unstyled d-flex mb-3 gap-2">
            <li>
                <a class="d-inline-flex px-2 py-1 link-accent text-accent-emphasis bg-accent-subtle rounded-2 text-decoration-none fs-7" href="<%= blogs_by_category_path(@blog.category) %>"><%= @blog.category.name %></a>
            </li>
            <li>
                <a class="d-inline-flex px-2 py-1 link-accent text-accent-emphasis bg-accent-subtle rounded-2 text-decoration-none fs-7" href="<%= blogs_by_subcategory_path(@blog.category, @blog.subcategory) %>"><%= @blog.subcategory.name %></a>
            </li>
          </ul>
          <h2 class="display-3 fw-bold mb-4"><%= @blog.title %></h2>
        </div>
        <div class="entry-footer">
          <ul class="entry-meta list-unstyled d-flex align-items-center m-0">
            <li>
              <a class="fs-7 link-secondary text-decoration-none d-flex align-items-center" href="#!">
                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" class="bi bi-calendar3" viewBox="0 0 16 16">
                  <path d="M14 0H2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zM1 3.857C1 3.384 1.448 3 2 3h12c.552 0 1 .384 1 .857v10.286c0 .473-.448.857-1 .857H2c-.552 0-1-.384-1-.857V3.857z" />
                  <path d="M6.5 7a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm-9 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm-9 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2z" />
                </svg>
                <span class="ms-2 fs-7"><%= @blog.created_at.strftime("%B %e, %Y") %></span>
              </a>
            </li>
            <%# <li>
              <span class="px-3">&bull;</span>
            </li>
            <li>
              <a class="link-secondary text-decoration-none d-flex align-items-center" href="#!">
                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" class="bi bi-chat-dots" viewBox="0 0 16 16">
                  <path d="M5 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2z" />
                  <path d="m2.165 15.803.02-.004c1.83-.363 2.948-.842 3.468-1.105A9.06 9.06 0 0 0 8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6a10.437 10.437 0 0 1-.524 2.318l-.003.011a10.722 10.722 0 0 1-.244.637c-.079.186.074.394.273.362a21.673 21.673 0 0 0 .693-.125zm.8-3.108a1 1 0 0 0-.287-.801C1.618 10.83 1 9.468 1 8c0-3.192 3.004-6 7-6s7 2.808 7 6c0 3.193-3.004 6-7 6a8.06 8.06 0 0 1-2.088-.272 1 1 0 0 0-.711.074c-.387.196-1.24.57-2.634.893a10.97 10.97 0 0 0 .398-2z" />
                </svg>
                <span class="ms-2 fs-7">59</span>
              </a>
            </li> %>
          </ul>
        </div>
      </div>
      <div class="col-12 col-lg-4">
        <a class="d-block bsb-hover-image overflow-hidden rounded" href="#!">
          <img class="img-fluid bsb-scale bsb-hover-scale-up" src="<%= url_for(@blog.cover_image) if @blog.cover_image.present? %>" alt="">
        </a>
      </div>
    </div>
  </div>
</section>

<section class="py-3 py-md-5 py-xl-10">
  <div class="container">
    <div class="row justify-content-md-center gy-3 gy-xl-4">
      <div class="col-12 col-md-9 gy-3 gy-xl-4 bsb-entry-content">
        <%= display_content(@blog.content) %>
      </div>
      <div class="col-12 col-md-3 d-none d-md-block">
        <h5 class="text-center mb-3">Trending Posts</h5>
        <% @related_blogs.all.each do |blog| %>
          <div class="card mb-3 border-0">
            <div class="row g-0 align-items-center">
              <div class="col-md-4 d-flex justify-content-center">
                <img src="<%= url_for(blog.cover_image) %>" class="img-fluid rounded" alt="...">
              </div>
              <div class="col-md-8">
                <div class="card-body">
                  <h6 class="card-text fw-bold"><a class="text-decoration-none text-black" href="<%= blog_path(blog) %>"><%= blog.title %></a></h6>
                </div>
              </div>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</section>

<!-- Post Pagination 2 - Bootstrap Brain Component -->
<section class="bsb-post-pagination-2 py-3 py-md-5 py-xl-8">
  <div class="container overflow-hidden">
    <div class="row justify-content-lg-center">
      <div class="col-12 col-lg-10">
        <% if @previous_post %>
          <div class="bg-white p-4 p-md-5 border border-light-subtle">
            <div class="row gy-3 gy-md-0 align-items-md-center">
              <div class="col-12 col-md-2"> 
                <a href="<%= blog_path(@previous_post) %>">
                  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-arrow-left" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z" />
                  </svg>
                </a>
              </div>
              <div class="col-12 col-md-8">
                <a href="<%= blog_path(@previous_post) %>" class="d-block px-md-3 text-decoration-none">
                  <h5 class="link-secondary fw-bold fs-6 mb-3">Previous Post</h5>
                  <h2 class="link-dark fs-5"><%= @previous_post.title %></h2>
                </a>
              </div>
              <div class="col-12 col-md-2">
                <a href="<%= blog_path(@previous_post) %>" class="bsb-hover-image d-block rounded overflow-hidden">
                  <img class="img-fluid author-avatar bsb-scale bsb-hover-scale-up" loading="lazy" src="<%= url_for(@previous_post.cover_image) %>" alt="<%= @previous_post.title %>">
                </a>
              </div>
            </div>
          </div>
        <% end %>
        <% if @next_post %>
          <div class="bg-white p-4 p-md-5 border border-light-subtle">
            <div class="row gy-3 align-items-md-center">
              <div class="col-12 col-md-2">
                <a href="<%= blog_path(@next_post) %>" class="bsb-hover-image d-block rounded overflow-hidden">
                  <img class="img-fluid author-avatar bsb-scale bsb-hover-scale-up" loading="lazy" src="<%= url_for(@next_post.cover_image) %>" alt="<%= @next_post.title %>">
                </a>
              </div>
              <div class="col-12 col-md-8 text-end">
                <a href="<%= blog_path(@next_post) %>" class="d-block px-md-3 text-decoration-none">
                  <h5 class="link-secondary fw-bold fs-6 mb-3">Next Post</h5>
                  <h2 class="link-dark fs-5"><%= @next_post.title %></h2>
                </a>
              </div>
              <div class="col-12 col-md-2 text-end">
                <a href="<%= blog_path(@next_post) %>">
                  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z" />
                  </svg>
                </a>
              </div>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</section>
